<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- MathJax untuk tampilan rumus -->
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <title>Kebun Ilmu – Media Pembelajaran Interaktif</title>
  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--brand:#10b981;--brand-2:#22d3ee}
    html,body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji"}
    .glass{backdrop-filter:saturate(180%) blur(10px); background:linear-gradient(180deg,rgba(255,255,255,.8),rgba(255,255,255,.6))}
    .chip{border:1px solid rgba(0,0,0,.06);}
    .btn{transition:transform .05s ease}
    .btn:active{transform:translateY(1px) scale(.99)}
    details>summary{list-style:none}
    details>summary::-webkit-details-marker{display:none}
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-white text-gray-800">
  <!-- Header / Brand -->
  <header class="sticky top-0 z-40 border-b border-emerald-100/60 glass">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center gap-3">
      <img src="https://zahwan93.github.io/Kebun-Ilmu-Matematika-SMP/logo.png" alt="Logo Kebun Ilmu" class="w-10 h-10 rounded-xl shadow" />
      <div class="flex-1">
        <h1 class="text-lg sm:text-2xl font-extrabold tracking-tight">
          Kebun Ilmu <span class="text-emerald-600">— Media Pembelajaran Interaktif</span>
        </h1>
        <p class="text-xs sm:text-sm text-gray-500">Materi · Latihan · Simulasi </p>
      </div>
      <nav class="hidden sm:flex items-center gap-2">
        <button data-tab="materi" class="tab-btn btn px-3 py-2 rounded-xl bg-emerald-600 text-white text-sm font-medium shadow hover:shadow-md">Materi</button>
        <button data-tab="latihan" class="tab-btn btn px-3 py-2 rounded-xl bg-white text-gray-700 text-sm font-medium border chip hover:bg-gray-50">Latihan Soal</button>
        <button data-tab="simulasi" class="tab-btn btn px-3 py-2 rounded-xl bg-white text-gray-700 text-sm font-medium border chip hover:bg-gray-50">Simulasi TKA</button>
      </nav>
    </div>
  </header>

  <!-- Mobile Tab Switcher -->
  <div class="sm:hidden sticky top-[60px] z-30 bg-white/80 backdrop-blur border-b border-emerald-100/60">
    <div class="max-w-6xl mx-auto px-4 py-2 grid grid-cols-3 gap-2">
      <button data-tab="materi" class="tab-btn btn py-2 rounded-lg bg-emerald-600 text-white text-xs font-semibold">Materi</button>
      <button data-tab="latihan" class="tab-btn btn py-2 rounded-lg bg-white border chip text-xs font-semibold">Latihan</button>
      <button data-tab="simulasi" class="tab-btn btn py-2 rounded-lg bg-white border chip text-xs font-semibold">Simulasi</button>
    </div>
  </div>

  <main class="max-w-6xl mx-auto px-4 sm:px-6 py-6">
    <!-- Info links to Pusmendik -->
    

    <!-- Tabs content wrapper -->
    <section id="tab-materi" class="tab-pane">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="md:col-span-1 space-y-4">
          <div class="p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h2 class="font-bold text-lg">Pilih Materi</h2>
            <label class="block mt-3 text-sm">Mata Pelajaran</label>
            <select id="materiMapel" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300">
              <!-- Diisi via JS -->
            </select>
            <label class="block mt-3 text-sm">Bab</label>
            <select id="materiBab" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300">
            </select>
            <button id="btnLoadMateri" class="btn mt-4 w-full py-2 rounded-xl bg-emerald-600 text-white font-semibold">Tampilkan</button>
          </div>

          <div class="p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h3 class="font-semibold">Sumber Resmi</h3>
            <p class="text-sm text-gray-600 mt-1">Buka ringkasan materi versi Pusmendik:</p>
            <a target="_blank" rel="noopener" href="https://pusmendik.kemdikbud.go.id/tka/tka/view/mata-pelajaran-wajib/sma" class="inline-block mt-2 px-3 py-2 rounded-xl border chip hover:bg-gray-50 text-sm">📖 Buka Halaman Materi</a>
          </div>
        </div>

        <div class="md:col-span-2 space-y-4">
          <div class="p-5 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h2 class="font-bold text-xl flex items-center gap-2">📘 Ringkasan Materi</h2>
            <div id="materiKonten" class="prose prose-sm sm:prose lg:prose-lg max-w-none mt-3"></div>
          </div>
          <div class="p-5 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h2 class="font-bold text-xl flex items-center gap-2">🎬 Video Pembelajaran</h2>
            <div id="materiVideo" class="aspect-video w-full overflow-hidden rounded-xl bg-gray-100 flex items-center justify-center text-gray-400">
              <span class="text-sm">Pilih materi untuk memuat video…</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="tab-latihan" class="tab-pane hidden">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="md:col-span-1 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <h2 class="font-bold text-lg">Pengaturan Latihan</h2>
          <label class="block mt-3 text-sm">Mata Pelajaran</label>
          <select id="latihMapel" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300"></select>
          <label class="block mt-3 text-sm">Bab</label>
          <select id="latihBab" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300"></select>
          <button id="btnLoadLatihan" class="btn mt-4 w-full py-2 rounded-xl bg-emerald-600 text-white font-semibold">Muat Soal</button>
        </div>
        <div class="md:col-span-2 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="font-bold text-xl">Latihan Soal</h2>
            <button id="btnPeriksaSemua" class="btn px-3 py-2 rounded-xl border chip text-sm">Cek Semua</button>
          </div>
          <div id="latihanContainer" class="mt-3 space-y-4"></div>
        </div>
      </div>
    </section>

    <section id="tab-simulasi" class="tab-pane hidden">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="md:col-span-1 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <h2 class="font-bold text-lg">Pengaturan Simulasi</h2>
          <label class="block mt-3 text-sm">Mata Pelajaran</label>
          <select id="simMapel" class="w-full mt-1 px-3 py-2 rounded-xl border chip"></select>
          <label class="block mt-3 text-sm">Jumlah Soal</label>
          <input id="simJumlah" type="number" min="5" max="50" value="10" class="w-full mt-1 px-3 py-2 rounded-xl border chip" />
          <label class="block mt-3 text-sm">Durasi (menit)</label>
          <input id="simDurasi" type="number" min="5" max="180" value="15" class="w-full mt-1 px-3 py-2 rounded-xl border chip" />
          <button id="btnMulaiSim" class="btn mt-4 w-full py-2 rounded-xl bg-emerald-600 text-white font-semibold">Mulai Simulasi</button>
          <p class="text-xs text-gray-500 mt-2">Timer akan berjalan. Skor & pembahasan ditampilkan setelah selesai.</p>
        </div>
        <div class="md:col-span-2 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="font-bold text-xl">Simulasi TKA</h2>
            <div id="simInfo" class="text-sm text-gray-600">Belum mulai</div>
          </div>
          <div id="simContainer" class="mt-3 space-y-4"></div>
          <div id="simHasil" class="mt-4 hidden p-4 rounded-xl border chip bg-emerald-50"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="max-w-6xl mx-auto px-4 sm:px-6 pb-10">
    <div class="mt-10 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm text-xs text-gray-500">
      <p><strong>Kebun Ilmu</strong> – Aplikasi belajar mandiri. Konten ringkasan & soal di sini adalah contoh yang disusun menyerupai format TKA. Untuk rujukan resmi gunakan tautan Pusmendik di atas.</p>
    </div>
  </footer>

  <!-- App Data & Logic -->
  <script>
  // ======= Dataset Contoh (DISERAGAMKAN DENGAN TKA SMA) =======
  // Struktur: mapel -> bab[] -> materi (html), video (YT embed id), soal[]
  const DB = {
    'Biologi': {
  bab: {
    'Pewarisan Sifat': {
  materi: `
    <h2 class="text-xl font-bold mb-2">Pewarisan Sifat</h2>
    <p>
      Pada bab ini, siswa akan mempelajari bagaimana sifat diturunkan dari orang tua ke anak 
      melalui gen, kromosom, dan hukum Mendel. Topik juga mencakup pewarisan golongan darah, 
      buta warna, serta contoh-contoh kasus nyata dalam kehidupan sehari-hari.
    </p>

    <h3 class="text-lg font-semibold mt-4">1. Pengertian Pewarisan Sifat</h3>
    <p>
      Pewarisan sifat adalah proses penurunan ciri-ciri dari induk ke keturunannya 
      melalui <b>gen</b>. Gen merupakan unit pewarisan yang terdapat di dalam kromosom, 
      terletak di inti sel. Sifat yang diwariskan dapat berupa bentuk fisik 
      (misalnya tinggi badan, warna kulit, golongan darah) maupun sifat tertentu 
      seperti kemampuan indera.
    </p>

    <h3 class="text-lg font-semibold mt-4">2. Hukum Mendel</h3>
    <p>
      Gregor Mendel dikenal sebagai Bapak Genetika karena eksperimennya dengan kacang ercis. 
      Ia menemukan dua hukum dasar dalam pewarisan sifat:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li><b>Hukum I (Segregasi):</b> Setiap individu memiliki sepasang alel untuk suatu sifat, 
          dan alel tersebut akan memisah secara bebas ketika pembentukan gamet.</li>
      <li><b>Hukum II (Asortasi Bebas):</b> Alel untuk sifat yang berbeda diwariskan secara bebas 
          satu sama lain, sehingga kombinasi sifat dapat bervariasi.</li>
    </ul>

    <h3 class="text-lg font-semibold mt-4">3. Pewarisan Golongan Darah</h3>
<p>
  Golongan darah manusia ditentukan oleh keberadaan antigen A atau B pada permukaan sel darah merah. 
  Alel yang berperan adalah <b>IA</b>, <b>IB</b>, dan <b>i</b>. 
  Kombinasi ketiga alel ini menghasilkan 4 golongan darah:
</p>
<ul class="list-disc ml-6 mb-4">
  <li><b>IAIA atau IAi → Golongan darah A</b></li>
  <li><b>IBIB atau IBi → Golongan darah B</b></li>
  <li><b>IAIB → Golongan darah AB</b> (kodominan)</li>
  <li><b>ii → Golongan darah O</b></li>
</ul>

<!-- Tabel kecocokan tanpa Rh -->
<h4 class="text-md font-semibold mt-4">Tabel Kecocokan Donor &amp; Penerima (tanpa Rh)</h4>
<div class="overflow-auto mb-6">
  <table class="min-w-full border-collapse text-left">
    <thead>
      <tr class="bg-gray-100">
        <th class="border px-3 py-2">Golongan Darah</th>
        <th class="border px-3 py-2">Dapat Donor ke</th>
        <th class="border px-3 py-2">Dapat Menerima dari</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border px-3 py-2 font-medium">O</td>
        <td class="border px-3 py-2">A, B, AB, O</td>
        <td class="border px-3 py-2">O</td>
      </tr>
      <tr class="bg-gray-50">
        <td class="border px-3 py-2 font-medium">A</td>
        <td class="border px-3 py-2">A, AB</td>
        <td class="border px-3 py-2">A, O</td>
      </tr>
      <tr>
        <td class="border px-3 py-2 font-medium">B</td>
        <td class="border px-3 py-2">B, AB</td>
        <td class="border px-3 py-2">B, O</td>
      </tr>
      <tr class="bg-gray-50">
        <td class="border px-3 py-2 font-medium">AB</td>
        <td class="border px-3 py-2">AB</td>
        <td class="border px-3 py-2">A, B, AB, O</td>
      </tr>
    </tbody>
  </table>
</div>
<p class="text-sm mb-4">
  Penjelasan singkat: Tanpa mempertimbangkan faktor Rh, donor O universal (dapat mendonorkan darah ke semua golongan) 
  karena tidak memiliki antigen A maupun B. Penerima AB dapat menerima dari semua golongan karena memiliki antigen A dan B.
</p>

<!-- Tabel kecocokan dengan Rh -->
<h4 class="text-md font-semibold mt-4">Tabel Kecocokan Donor &amp; Penerima (dengan Rh)</h4>
<div class="overflow-auto">
  <table class="min-w-full border-collapse text-left text-sm">
    <thead>
      <tr class="bg-gray-100">
        <th class="border px-3 py-2">Golongan Darah</th>
        <th class="border px-3 py-2">Dapat Donor ke</th>
        <th class="border px-3 py-2">Dapat Menerima dari</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border px-3 py-2 font-medium">O−</td>
        <td class="border px-3 py-2">Semua golongan</td>
        <td class="border px-3 py-2">O−</td>
      </tr>
      <tr class="bg-gray-50">
        <td class="border px-3 py-2 font-medium">O+</td>
        <td class="border px-3 py-2">O+, A+, B+, AB+</td>
        <td class="border px-3 py-2">O−, O+</td>
      </tr>
      <tr>
        <td class="border px-3 py-2 font-medium">A−</td>
        <td class="border px-3 py-2">A−, A+, AB−, AB+</td>
        <td class="border px-3 py-2">A−, O−</td>
      </tr>
      <tr class="bg-gray-50">
        <td class="border px-3 py-2 font-medium">A+</td>
        <td class="border px-3 py-2">A+, AB+</td>
        <td class="border px-3 py-2">A−, A+, O−, O+</td>
      </tr>
      <tr>
        <td class="border px-3 py-2 font-medium">B−</td>
        <td class="border px-3 py-2">B−, B+, AB−, AB+</td>
        <td class="border px-3 py-2">B−, O−</td>
      </tr>
      <tr class="bg-gray-50">
        <td class="border px-3 py-2 font-medium">B+</td>
        <td class="border px-3 py-2">B+, AB+</td>
        <td class="border px-3 py-2">B−, B+, O−, O+</td>
      </tr>
      <tr>
        <td class="border px-3 py-2 font-medium">AB−</td>
        <td class="border px-3 py-2">AB−, AB+</td>
        <td class="border px-3 py-2">A−, B−, AB−, O−</td>
      </tr>
      <tr class="bg-gray-50">
        <td class="border px-3 py-2 font-medium">AB+</td>
        <td class="border px-3 py-2">AB+</td>
        <td class="border px-3 py-2">Semua golongan</td>
      </tr>
    </tbody>
  </table>
</div>
<p class="text-sm">
  Penjelasan singkat:
  <ul class="list-disc ml-6">
    <li><b>O− (O negatif)</b> adalah donor universal—dapat diberikan ke semua golongan &amp; Rh.</li>
    <li><b>Rh+</b> (positif) dapat menerima darah Rh+ atau Rh−.</li>
    <li><b>Rh−</b> (negatif) hanya dapat menerima darah Rh− untuk mencegah reaksi terhadap antigen Rh.</li>
    <li>Contoh: <b>A+</b> dapat menerima dari <b>A+, A−, O+, O−</b>; namun <b>A−</b> hanya dari <b>A−, O−</b>.</li>
  </ul>
</p>


    <h3 class="text-lg font-semibold mt-4">4. Pewarisan Sifat Buta Warna</h3>
    <p>
      Buta warna merupakan contoh sifat <b>terpaut kromosom seks (X-linked recessive)</b>. 
      Gen buta warna terdapat pada kromosom X. Karena laki-laki memiliki kromosom XY, 
      jika kromosom X mereka membawa alel buta warna maka sifat tersebut langsung tampak. 
      Perempuan (XX) baru akan buta warna jika kedua kromosom X-nya membawa alel buta warna.
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li><b>X<sup>C</sup>X<sup>C</sup> → Perempuan normal</b></li>
      <li><b>X<sup>C</sup>X<sup>c</sup> → Perempuan normal carrier (pembawa)</b></li>
      <li><b>X<sup>c</sup>X<sup>c</sup> → Perempuan buta warna</b></li>
      <li><b>X<sup>C</sup>Y → Laki-laki normal</b></li>
      <li><b>X<sup>c</sup>Y → Laki-laki buta warna</b></li>
    </ul>

    <h3 class="text-lg font-semibold mt-4">5. Contoh Kasus</h3>
    <p class="mb-2"><b>Kasus 1 (Golongan Darah):</b></p>
    <p>
      Seorang ibu bergolongan darah A (genotipe IAi) menikah dengan ayah bergolongan darah B (genotipe IBi). 
      Kemungkinan golongan darah anak mereka adalah:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li>IA dari ibu + IB dari ayah → Golongan darah AB</li>
      <li>IA dari ibu + i dari ayah → Golongan darah A</li>
      <li>i dari ibu + IB dari ayah → Golongan darah B</li>
      <li>i dari ibu + i dari ayah → Golongan darah O</li>
    </ul>
    <p>
      Jadi, anak dapat memiliki keempat golongan darah (A, B, AB, O).
    </p>

    <p class="mb-2"><b>Kasus 2 (Buta Warna):</b></p>
    <p>
      Seorang ayah normal (X<sup>C</sup>Y) menikah dengan ibu carrier (X<sup>C</sup>X<sup>c</sup>). 
      Peluang anak mereka adalah:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li>25% anak perempuan normal (X<sup>C</sup>X<sup>C</sup>)</li>
      <li>25% anak perempuan carrier (X<sup>C</sup>X<sup>c</sup>)</li>
      <li>25% anak laki-laki normal (X<sup>C</sup>Y)</li>
      <li>25% anak laki-laki buta warna (X<sup>c</sup>Y)</li>
    </ul>
    <p>
      Dari kasus ini, terlihat bahwa laki-laki lebih berisiko mengalami buta warna dibandingkan perempuan.
    </p>
  `
,

      video: 'ouDcvX4fgHw', 
      soal: [
{
  id: 'ps1',
  tipe: 'pg',
  tanya: 'Siapakah ilmuwan yang dikenal sebagai Bapak Genetika dengan eksperimen tanaman kacang ercis?',
  opsi: [
    'Charles Darwin',
    'Gregor Mendel',
    'Robert Hooke',
    'Louis Pasteur'
  ],
  kunci: 1,
  bahas: `Gregor Mendel dikenal sebagai Bapak Genetika karena percobaannya dengan kacang ercis menghasilkan Hukum Mendel I dan II.`
},
{
  id: 'ps2',
  tipe: 'pg',
  tanya: 'Jika ayah bergolongan darah O dan ibu bergolongan darah AB, maka kemungkinan golongan darah anak adalah...',
  opsi: [
    'A dan B',
    'A dan O',
    'B dan AB',
    'A, B, AB, dan O'
  ],
  kunci: 0,
  bahas: `Ayah O (ii), ibu AB (IAIB). Kombinasi hanya menghasilkan IAi (A) dan IBi (B).`
},
{
  id: 'ps3',
  tipe: 'pg',
  tanya: 'Mengapa laki-laki lebih sering mengalami buta warna dibandingkan perempuan?',
  opsi: [
    'Karena laki-laki lebih sering terpapar cahaya',
    'Karena laki-laki hanya memiliki satu kromosom X',
    'Karena perempuan memiliki dua kromosom Y',
    'Karena gen buta warna terdapat pada kromosom Y'
  ],
  kunci: 1,
  bahas: `Gen buta warna terletak di kromosom X. Laki-laki hanya punya satu X, sehingga jika membawa alel buta warna langsung tampak.`
},
{
  id: 'ps5',
  tipe: 'pg',
  tanya: 'Seorang pria bergolongan darah A (IAi) menikah dengan wanita bergolongan darah B (IBi). Kemungkinan anaknya bergolongan darah O jika...',
  opsi: [
    'Mewarisi IA dan IB',
    'Mewarisi i dari ayah dan i dari ibu',
    'Mewarisi IA dari ayah dan i dari ibu',
    'Mewarisi IB dari ayah dan IA dari ibu'
  ],
  kunci: 1,
  bahas: `Golongan darah O hanya terbentuk jika genotipe anak ii. Itu terjadi bila anak mendapat i dari ayah (IAi) dan i dari ibu (IBi).`
},
{
  id: 'ps6',
  tipe: 'cb',
  tanya: 'Manakah genotipe yang dapat menghasilkan golongan darah A?',
  opsi: [
    'IAIA',
    'IAi',
    'IBi',
    'ii'
  ],
  kunci: [0,1],
  bahas: `Golongan darah A dihasilkan oleh genotipe IAIA atau IAi.`
},
{
  id: 'ps7',
  tipe: 'pg',
  tanya: 'Alelnya manakah yang bersifat resesif dalam pewarisan golongan darah ABO?',
  opsi: [
    'IA',
    'IB',
    'i',
    'Semua dominan'
  ],
  kunci: 2,
  bahas: `Alel i bersifat resesif terhadap IA dan IB.`
},
{
  id: 'ps8',
  tipe: 'bs',
  tanya: 'Tentukan benar (✔️) atau salah (❌) dari pernyataan berikut mengenai golongan darah:',
  opsi: [
    'Golongan darah AB menunjukkan sifat kodominan.',
    'Golongan darah O terbentuk jika genotipe seseorang adalah ii.',
    'Golongan darah A hanya bisa muncul dari genotipe IAIA.',
    'Golongan darah B dapat muncul dari genotipe IBi maupun IBIB.'
  ],
  kunci: [true, true, false, true],
  bahas: `✅ AB kodominan karena IA dan IB sama-sama terekspresi. ✅ O hanya muncul jika genotipe ii. ❌ A bisa IAIA atau IAi, jadi tidak hanya IAIA. ✅ B bisa dari IBi maupun IBIB.`
},
{
  id: 'ps9',
  tipe: 'pg',
  tanya: 'Seorang ibu bergolongan darah A (IAi) dan ayah bergolongan darah A (IAi). Peluang anak bergolongan darah O adalah...',
  opsi: [
    '0%',
    '25%',
    '50%',
    '75%'
  ],
  kunci: 1,
  bahas: `Persilangan IAi x IAi menghasilkan IAIA, IAi, IAi, ii. Jadi peluang ii (O) adalah 25%.`
},
{
  id: 'ps10',
  tipe: 'pg',
  tanya: 'Jika ayah bergolongan darah AB dan ibu bergolongan darah AB, maka anaknya mungkin bergolongan darah...',
  opsi: [
    'A, B, AB',
    'A, B, AB, O',
    'Hanya AB',
    'Hanya O'
  ],
  kunci: 0,
  bahas: `IAIB x IAIB → kemungkinan genotipe IAIA (A), IBIB (B), IAIB (AB). Tidak ada ii sehingga O tidak mungkin.`
},
{
  id: 'ps11',
  tipe: 'cb',
  tanya: 'Pilih semua kemungkinan golongan darah anak dari ayah B (IBi) dan ibu O (ii).',
  opsi: [
    'A',
    'B',
    'AB',
    'O'
  ],
  kunci: [1,3],
  bahas: `IBi x ii → kombinasi IBi (B) dan ii (O).`
},
{
  id: 'ps12',
  tipe: 'pg',
  tanya: 'Ayah bergolongan darah AB, ibu bergolongan darah A (IAi). Golongan darah anak yang tidak mungkin adalah...',
  opsi: [
    'A',
    'B',
    'AB',
    'O'
  ],
  kunci: 3,
  bahas: `Tidak mungkin menghasilkan ii, sehingga anak tidak bisa bergolongan darah O.`
},
{
  id: 'ps13',
  tipe: 'bs',
  tanya: 'Tentukan pernyataan berikut tentang pewarisan sifat yang benar (✔️) atau salah (❌):',
  opsi: [
    'Golongan darah AB dapat menerima darah dari semua golongan dalam sistem ABO.',
    'Golongan darah O disebut universal recipient.',
    'Buta warna diturunkan melalui kromosom Y.',
    'Jika ayah buta warna dan ibu carrier, maka kemungkinan anak laki-laki buta warna adalah 50%.',
    'AleI IA dan IB bersifat kodominan.'
  ],
  kunci: [true, false, false, true, true],
  bahas: `✅ AB = universal recipient, ❌ Universal recipient adalah AB, bukan O. ❌ Buta warna terpaut kromosom X, bukan Y. ✅ Ayah XcY, ibu (XCXc), maka peluang anak laki-laki buta warna 50%. ✅ IA dan IB sama-sama diekspresikan → kodominan.`
},
{
  id: 'ps14',
  tipe: 'pg',
  tanya: 'Seorang anak bergolongan darah O, ayahnya bergolongan darah A, dan ibunya bergolongan darah B. Bagaimana kemungkinan genotipe orang tuanya?',
  opsi: [
    'Ayah IAIA, Ibu IBIB',
    'Ayah IAi, Ibu IBi',
    'Ayah IAIA, Ibu IBi',
    'Ayah IAi, Ibu IBIB'
  ],
  kunci: 1,
  bahas: `Anak O (ii) hanya mungkin jika kedua orang tua menyumbang i. Jadi ayah IAi dan ibu IBi.`
},
{
  id: 'ps15',
  tipe: 'cb',
  tanya: 'Ayah bergolongan darah AB dan ibu bergolongan darah O. Manakah kemungkinan golongan darah anaknya?',
  opsi: [
    'A',
    'B',
    'AB',
    'O'
  ],
  kunci: [0,1],
  bahas: `IAIB x ii → menghasilkan IAi (A) atau IBi (B). Tidak mungkin AB atau O.`
},
{
  id: 'ps16',
  tipe: 'pg',
  tanya: 'Di sebuah keluarga, ayah golongan darah B, ibu golongan darah A, dan anak pertama AB. Anak kedua bergolongan darah O. Genotipe orang tua adalah...',
  opsi: [
    'Ayah IBIB, Ibu IAIA',
    'Ayah IBi, Ibu IAi',
    'Ayah IBIB, Ibu IAi',
    'Ayah IBi, Ibu IAIA'
  ],
  kunci: 1,
  bahas: `Anak O berarti kedua ortu membawa alel i. Anak AB berarti ortu juga membawa IA dan IB. Jadi genotipe ayah IBi, ibu IAi.`
},
{
  id: 'ps17',
  tipe: 'bs',
  tanya: 'Tentukan benar (✔️) atau salah (❌) dari pernyataan berikut mengenai persilangan golongan darah:',
  opsi: [
    'Jika pria AB menikah dengan wanita O, anak bisa bergolongan darah AB.',
    'Jika pria AB menikah dengan wanita O, anak hanya mungkin bergolongan darah A atau B.',
    'Pria bergolongan darah AB memiliki genotipe IAIB.',
    'Wanita bergolongan darah O memiliki genotipe ii.'
  ],
  kunci: [false, true, true, true],
  bahas: '❌ AB (IAIB) × O (ii) → anak IAi (A) atau IBi (B), tidak mungkin AB. ✅ Kombinasi hanya menghasilkan golongan darah A atau B. ✅ AB selalu IAIB. ✅ O selalu ii.'
},
{
  id: 'ps18',
  tipe: 'pg',
  tanya: 'Seorang pria bergolongan darah AB menikah dengan wanita bergolongan darah O. Analisislah kemungkinan golongan darah anak mereka!',
  opsi: [
    'Hanya golongan darah AB',
    'Golongan darah A atau B',
    'Golongan darah A, B, dan AB',
    'Semua golongan darah (A, B, AB, O)'
  ],
  kunci: 1,
  bahas: 'AB (IAIB) × O (ii) menghasilkan IAi (A) atau IBi (B). Tidak mungkin AB atau O.'
},
{
  id: 'ps19',
  tipe: 'cb',
  tanya: 'Seorang ayah buta warna (XcY) menikah dengan ibu normal carrier (XCXc). Tentukan kemungkinan fenotipe anak mereka!',
  opsi: [
    'Anak laki-laki normal',
    'Anak laki-laki buta warna',
    'Anak perempuan normal',
    'Anak perempuan carrier',
    'Anak perempuan buta warna'
  ],
  kunci: [false, true, true, true, true],
  bahas: 'Persilangan XcY × XCXc → anak laki-laki: XcY (buta warna), XCY (normal). Anak perempuan: XCXc (carrier), XcXc (buta warna). Jadi mungkin laki-laki buta warna, perempuan normal, carrier, dan buta warna.'
},
{
  id: 'ps20',
  tipe: 'pg',
  tanya: 'Pada bunga merah (MM) disilangkan dengan bunga putih (mm), seluruh F₁ berwarna merah muda (Mm). Jika sesama F₁ disilangkan, berapakah rasio fenotipe F₂?',
  opsi: [
    '1 merah : 2 merah muda : 1 putih',
    '3 merah : 1 putih',
    '2 merah muda : 2 putih',
    'semua merah muda'
  ],
  kunci: 0,
  bahas: 'Kasus incomplete dominance. Persilangan Mm × Mm menghasilkan MM (merah), Mm (merah muda), mm (putih) dengan rasio fenotipe 1:2:1.'
},
{
  id: 'ps21',
  tipe: 'bs',
  tanya: 'Analisis benar (✔️) atau salah (❌) dari pernyataan berikut:',
  opsi: [
    'Golongan darah AB hanya dapat menerima donor dari AB.',
    'Seorang perempuan carrier buta warna bisa menurunkan sifat buta warna ke anak laki-laki.',
    'Pada kasus bunga merah dan putih, warna merah muda pada F₁ adalah contoh dominansi sempurna.',
    'Jika kedua orang tua bergolongan darah heterozigot A (IAi), maka ada kemungkinan anak bergolongan darah O.'
  ],
  kunci: [false, true, false, true],
  bahas: '❌ AB adalah universal recipient, bisa menerima dari semua golongan. ✅ Carrier (XCXc) dapat menurunkan Xc ke anak laki-laki sehingga buta warna. ❌ Merah muda F₁ adalah incomplete dominance, bukan dominansi sempurna. ✅ IAi × IAi bisa menghasilkan ii (O).'
},
{
  id: 'ps22',
  tipe: 'pg',
  tanya: 'Seorang ibu bergolongan darah A heterozigot (IAi) menikah dengan ayah bergolongan darah B heterozigot (IBi). Golongan darah apa saja yang mungkin muncul pada anak-anak mereka?',
  opsi: [
    'Hanya A dan B',
    'A, B, AB, dan O',
    'A, B, dan AB',
    'Hanya O'
  ],
  kunci: 1,
  bahas: 'IAi × IBi → kombinasi IAIB (AB), IAi (A), IBi (B), ii (O). Jadi semua kemungkinan golongan darah bisa muncul.'
},
{
  id: 'ps23',
  tipe: 'pg',
  tanya: 'Seorang wanita Rh− menikah dengan pria Rh+. Jika gen Rh+ bersifat dominan (R), tentukan kemungkinan anak-anak mereka bila sang pria heterozigot (Rr).',
  opsi: [
    '100% Rh+',
    '50% Rh+, 50% Rh−',
    '75% Rh+, 25% Rh−',
    '100% Rh−'
  ],
  kunci: 1,
  bahas: 'Persilangan Rr × rr menghasilkan 50% Rr (Rh+) dan 50% rr (Rh−).'
},
{
  id: 'ps24',
  tipe: 'cb',
  tanya: 'Pilih pernyataan yang benar mengenai pewarisan buta warna:',
  opsi: [
    'Buta warna diwariskan melalui kromosom X.',
    'Pria lebih sering mengalami buta warna dibanding wanita.',
    'Wanita buta warna pasti mewarisi gen buta warna dari ayah dan ibunya.',
    'Ayah buta warna selalu menurunkan sifat buta warna kepada anak laki-laki.',
    'Ibu carrier bisa menurunkan sifat buta warna kepada anak laki-laki.'
  ],
  kunci: [true, true, true, false, true],
  bahas: 'Buta warna X-linked; pria lebih sering terkena; wanita buta warna harus mendapat gen dari ayah dan ibu; ayah tidak menurunkan ke anak laki-laki; ibu carrier bisa menurunkan ke anak laki-laki.'
},
{
  id: 'ps25',
  tipe: 'pg',
  tanya: 'Pada bunga merah (RR) × putih (rr) dihasilkan F₁ berwarna merah muda (Rr). Jika F₁ disilangkan dengan bunga merah (RR), tentukan rasio fenotipe F₂!',
  opsi: [
    '1 merah : 1 merah muda',
    '2 merah : 1 putih',
    '3 merah : 1 putih',
    'semua merah muda'
  ],
  kunci: 0,
  bahas: 'Rr × RR menghasilkan 50% RR (merah) dan 50% Rr (merah muda). Rasio = 1 merah : 1 merah muda.'
},
{
  id: 'ps26',
  tipe: 'bs',
  tanya: 'Tentukan benar (✔️) atau salah (❌):',
  opsi: [
    'Golongan darah O bisa mendonorkan ke semua golongan.',
    'Seorang ibu Rh− yang mengandung anak Rh+ berpotensi mengalami masalah kehamilan.',
    'Buta warna adalah contoh pewarisan sifat autosomal dominan.',
    'Fenomena bunga merah × putih menghasilkan merah muda merupakan contoh kodominansi.'
  ],
  kunci: [true, true, false, false],
  bahas: 'O = universal donor; inkompatibilitas Rh bisa berbahaya; buta warna adalah X-linked resesif, bukan autosomal dominan; merah muda F₁ adalah incomplete dominance, bukan kodominansi.'
},
{
  id: 'ps27',
  tipe: 'pg',
  tanya: 'Seorang pria bergolongan darah A (IAIA) menikah dengan wanita bergolongan darah B (IBIB). Bagaimana golongan darah anak-anak mereka?',
  opsi: [
    'Semua AB',
    'A dan B',
    'Semua O',
    'A, B, AB'
  ],
  kunci: 0,
  bahas: 'IAIA × IBIB menghasilkan semua anak IAIB (AB).'
},
{
  id: 'ps28',
  tipe: 'cb',
  tanya: 'Seorang ayah normal (XY) menikah dengan ibu carrier buta warna (X^C X^c). Pilih kemungkinan anak mereka:',
  opsi: [
    'Anak laki-laki normal',
    'Anak laki-laki buta warna',
    'Anak perempuan normal',
    'Anak perempuan carrier',
    'Anak perempuan buta warna'
  ],
  kunci: [true, true, true, true, false],
  bahas: 'XY × X^C X^c → anak laki-laki: normal atau buta warna; anak perempuan: normal atau carrier; tidak ada anak perempuan buta warna karena ayah normal.'
},
{
  id: 'ps29',
  tipe: 'pg',
  tanya: 'Jika bunga merah muda (Rr) disilangkan dengan bunga putih (rr), berapakah rasio fenotipe yang dihasilkan?',
  opsi: [
    '1 merah muda : 1 putih',
    '2 merah : 2 putih',
    '3 merah : 1 putih',
    'semua merah muda'
  ],
  kunci: 0,
  bahas: 'Rr × rr menghasilkan 50% Rr (merah muda) dan 50% rr (putih). Rasio = 1 merah muda : 1 putih.'
}
      ]
    },
'Genetika': {
    materi: `
    <h2 class="text-xl font-bold mb-2">Genetika</h2>
    <p>
      Genetika adalah cabang biologi yang mempelajari pewarisan sifat dari satu generasi ke generasi berikutnya. 
      Topik utama dalam genetika meliputi peran kromosom, gen, DNA dan RNA, serta proses sintesis protein.
    </p>

    <h3 class="text-lg font-semibold mt-4">1. Kromosom sebagai Pembawa Gen</h3>
    <p>
      Kromosom adalah struktur berbentuk batang yang terdapat di dalam inti sel, 
      tersusun dari DNA dan protein histon. Kromosom berfungsi sebagai pembawa informasi genetik 
      yang diwariskan dari orang tua ke keturunannya. 
      Pada manusia terdapat <b>46 kromosom (23 pasang)</b>, yang terdiri dari:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li>22 pasang autosom (mengatur sifat-sifat tubuh)</li>
      <li>1 pasang kromosom seks (XX pada perempuan, XY pada laki-laki)</li>
    </ul>

    <h3 class="text-lg font-semibold mt-4">2. Gen sebagai Unit Pewarisan Sifat</h3>
    <p>
      Gen adalah segmen DNA pada kromosom yang mengandung instruksi untuk membentuk protein tertentu. 
      Gen merupakan unit pewarisan sifat terkecil. 
      Sifat-sifat yang diwariskan (seperti warna rambut, bentuk wajah, dan golongan darah) 
      ditentukan oleh susunan gen yang dimiliki seseorang.
    </p>

    <h3 class="text-lg font-semibold mt-4">3. DNA dan RNA sebagai Materi Genetik</h3>
    <p>
      DNA (Deoxyribonucleic Acid) adalah materi genetik utama yang menyimpan informasi 
      untuk mengatur fungsi dan sifat makhluk hidup. Struktur DNA berupa <b>double helix</b> 
      yang terdiri atas pasangan basa nitrogen:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li>Adenin (A) berpasangan dengan Timin (T)</li>
      <li>Sitosin (C) berpasangan dengan Guanin (G)</li>
    </ul>
    <p>
      RNA (Ribonucleic Acid) berperan dalam menerjemahkan informasi dari DNA menjadi protein. 
      Jenis-jenis RNA:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li><b>mRNA (messenger RNA)</b> → membawa kode genetik dari DNA ke ribosom</li>
      <li><b>tRNA (transfer RNA)</b> → membawa asam amino ke ribosom</li>
      <li><b>rRNA (ribosomal RNA)</b> → menyusun bagian dari ribosom tempat sintesis protein berlangsung</li>
    </ul>

    <h3 class="text-lg font-semibold mt-4">4. Proses Sintesis Protein</h3>
    <p>
      Sintesis protein adalah proses pembentukan protein berdasarkan informasi dari DNA. 
      Proses ini berlangsung dalam dua tahap utama:
    </p>
    <ul class="list-disc ml-6 mb-4">
      <li><b>Transkripsi:</b> DNA ditranskripsi menjadi mRNA di dalam inti sel.</li>
      <li><b>Translasi:</b> mRNA diterjemahkan oleh ribosom dengan bantuan tRNA untuk merangkai asam amino menjadi protein.</li>
    </ul>
    <p>
      Hasil akhir sintesis protein adalah terbentuknya protein yang memiliki fungsi tertentu 
      dalam tubuh, misalnya enzim, hormon, atau antibodi.
    </p>
    `,
    video: 'pRLzqHAWTcs', 
    soal: [
      {
    id: 'sp1',
    tipe: 'pg',
    tanya: 'Jika DNA sense adalah 5’ – ATG GAA TTT TGC TAA – 3’, maka mRNA hasil transkripsi adalah ...',
    opsi: [
      '5’ – UAC CUU AAA ACG AUU – 3’',
      '5’ – AUG GAA UUU UGC UAA – 3’',
      '3’ – UAC CUU AAA ACG AUU – 5’',
      '3’ – AUG GAA UUU UGC UAA – 5’'
    ],
    kunci: 1,
    bahas: `
      <p><b>Penjelasan:</b> mRNA disintesis dari rantai DNA antisense dengan mengganti T menjadi U.
      Hasilnya adalah 5’ – AUG GAA UUU UGC UAA – 3’.</p>
    `
  },
  {
    id: 'sp2',
    tipe: 'pg',
    tanya: 'Kodon start pada mRNA 5’ – AUG GAA UUU UGC UAA – 3’ adalah ...',
    opsi: [
      'GAA',
      'UUU',
      'UGC',
      'AUG'
    ],
    kunci: 3,
    bahas: `
      <p><b>Penjelasan:</b> Kodon start selalu AUG, yang mengkode asam amino metionin dan 
      menjadi awal translasi.</p>
    `
  },
  {
    id: 'sp3',
    tipe: 'pg',
    tanya: 'Antikodon yang berpasangan dengan kodon GAA pada mRNA adalah ...',
    opsi: [
      'CUU',
      'UUC',
      'GAA',
      'AAG'
    ],
    kunci: 0,
    bahas: `
      <p><b>Penjelasan:</b> Kodon GAA pada mRNA akan berpasangan dengan antikodon CUU pada tRNA.</p>
    `
  },
  {
    id: 'sp4',
    tipe: 'pg',
    tanya: 'Urutan asam amino yang terbentuk dari mRNA 5’ – AUG GAA UUU UGC UAA – 3’ adalah ...',
    opsi: [
      'Metionin – Glutamat – Fenilalanin – Sistein',
      'Metionin – Glisin – Tirosin – Valin',
      'Leusin – Glutamat – Alanin – Stop',
      'Metionin – Alanin – Valin – Stop'
    ],
    kunci: 0,
    bahas: `
      <p><b>Penjelasan:</b> Penerjemahan kodon:
      AUG = Metionin, GAA = Glutamat, UUU = Fenilalanin, UGC = Sistein, UAA = Stop.
      Jadi urutannya adalah Metionin – Glutamat – Fenilalanin – Sistein.</p>
    `
  },
{
    id: 'sp5',
    tipe: 'pg',
    tanya: 'Proses pembentukan mRNA dari DNA disebut ...',
    opsi: [
      'Translasi',
      'Replikasi',
      'Transkripsi',
      'Transformasi'
    ],
    kunci: 2,
    bahas: `
      <p><b>Penjelasan:</b> Proses pembentukan mRNA dari DNA disebut <b>transkripsi</b>, terjadi di dalam inti sel.</p>
    `
  },
  {
    id: 'sp6',
    tipe: 'pg',
    tanya: 'Kodon start pada mRNA 5’ – AUG GAA UUU UGC UAA – 3’ adalah ...',
    opsi: [
      'GAA',
      'UUU',
      'UGC',
      'AUG'
    ],
    kunci: 3,
    bahas: `
      <p><b>Penjelasan:</b> Kodon start selalu AUG, yang mengkode asam amino metionin dan 
      menjadi awal translasi.</p>
    `
  },
  {
    id: 'sp7',
    tipe: 'pg',
    tanya: 'Antikodon yang berpasangan dengan kodon GAA pada mRNA adalah ...',
    opsi: [
      'CUU',
      'UUC',
      'GAA',
      'AAG'
    ],
    kunci: 0,
    bahas: `
      <p><b>Penjelasan:</b> Kodon GAA pada mRNA akan berpasangan dengan antikodon CUU pada tRNA.</p>
    `
  },
  {
    id: 'sp8',
    tipe: 'pg',
    tanya: 'Urutan asam amino dari mRNA 5’ – AUG GAA UUU UGC UAA – 3’ adalah ...',
    opsi: [
      'Metionin – Glutamat – Fenilalanin – Sistein',
      'Metionin – Glisin – Tirosin – Valin',
      'Leusin – Glutamat – Alanin – Stop',
      'Metionin – Alanin – Valin – Stop'
    ],
    kunci: 0,
    bahas: `
      <p><b>Penjelasan:</b> AUG = Metionin, GAA = Glutamat, UUU = Fenilalanin, UGC = Sistein, UAA = Stop.
      Jadi urutannya adalah Metionin – Glutamat – Fenilalanin – Sistein.</p>
    `
  },

  // ====== Soal CB ======
  {
    id: 'sp9',
    tipe: 'cb',
    tanya: 'Pilihlah pernyataan yang benar tentang sintesis protein:',
    opsi: [
      'Transkripsi terjadi di ribosom',
      'tRNA membawa asam amino sesuai dengan kodon mRNA',
      'Translasi terjadi di sitoplasma',
      'Kodon stop menandai akhir translasi'
    ],
    kunci: [1,2,3],
    bahas: `
      ❌ Transkripsi terjadi di inti sel, bukan ribosom.  
      ✅ tRNA membawa asam amino sesuai kodon.  
      ✅ Translasi berlangsung di ribosom (sitoplasma).  
      ✅ Kodon stop menghentikan translasi.`
  },
  {
    id: 'sp10',
    tipe: 'cb',
    tanya: 'Manakah pernyataan berikut yang benar tentang kodon?',
    opsi: [
      'AUG berfungsi sebagai kodon start',
      'UAA, UAG, dan UGA berfungsi sebagai kodon stop',
      'Setiap kodon dapat menyandi lebih dari satu asam amino',
      'Kode genetik bersifat universal'
    ],
    kunci: [0,1,3],
    bahas: `
      ✅ AUG = start codon (Metionin).  
      ✅ UAA, UAG, UGA = stop codon.  
      ❌ Satu kodon hanya menyandi 1 asam amino.  
      ✅ Kode genetik bersifat universal.`
  },

  // ====== Soal BS ======
  {
    id: 'sp11',
    tipe: 'bs',
    tanya: 'Tentukan benar (✔️) atau salah (❌) dari pernyataan berikut:',
    opsi: [
      'Transkripsi terjadi di ribosom.',
      'tRNA membawa asam amino sesuai antikodonnya.',
      'Kodon stop menandai akhir translasi.',
      'Metionin selalu menjadi asam amino pertama dalam sintesis protein.'
    ],
    kunci: [false, true, true, true],
    bahas: `
      ❌ Transkripsi terjadi di inti sel.  
      ✅ tRNA membawa asam amino.  
      ✅ Kodon stop mengakhiri translasi.  
      ✅ AUG = Metionin sebagai asam amino pertama.`
  },
  {
    id: 'sp12',
    tipe: 'bs',
    tanya: 'Benar (✔️) atau salah (❌) mengenai sintesis protein:',
    opsi: [
      'DNA langsung diterjemahkan menjadi protein.',
      'mRNA adalah salinan gen yang akan diterjemahkan.',
      'Setiap asam amino dibawa oleh tRNA.',
      'Polipeptida terbentuk dari ikatan peptida antar asam amino.'
    ],
    kunci: [false, true, true, true],
    bahas: `
      ❌ DNA tidak langsung diterjemahkan, harus jadi mRNA dulu.  
      ✅ mRNA adalah salinan gen.  
      ✅ tRNA membawa asam amino.  
      ✅ Asam amino dihubungkan dengan ikatan peptida membentuk polipeptida.`
  },
 {
    id: 'sp13',
    tipe: 'pg',
    tanya: 'Jika DNA sense adalah 5’ – ATG GAA TTT – 3’, maka urutan mRNA hasil transkripsi adalah ...',
    opsi: [
      '5’ – UAC CUU AAA – 3’',
      '5’ – AUG GAA UUU – 3’',
      '5’ – TAC CTT AAA – 3’',
      '5’ – ATG GAA TTT – 3’'
    ],
    kunci: 1,
    bahas: `
      <p><b>Penjelasan:</b> mRNA sama dengan DNA sense, tetapi T diganti dengan U.  
      Jadi: ATG GAA TTT → AUG GAA UUU.</p>
    `
  },
  {
    id: 'sp14',
    tipe: 'pg',
    tanya: 'Kodon pertama (start) dari mRNA 5’ – AUG GAA UUU – 3’ adalah ...',
    opsi: [
      'AUG',
      'GAA',
      'UUU',
      'CUU'
    ],
    kunci: 0,
    bahas: `
      <p><b>Penjelasan:</b> Kodon pertama adalah AUG, berfungsi sebagai start codon dan menyandi Metionin.</p>
    `
  },
  {
    id: 'sp15',
    tipe: 'pg',
    tanya: 'Antikodon tRNA yang berpasangan dengan kodon GAA adalah ...',
    opsi: [
      'CUU',
      'UUC',
      'AAG',
      'UUU'
    ],
    kunci: 0,
    bahas: `
      <p><b>Penjelasan:</b> Kodon GAA pada mRNA → antikodon CUU pada tRNA.</p>
    `
  },

  // ===== Soal CB =====
  {
    id: 'sp16',
    tipe: 'cb',
    tanya: 'Dari mRNA 5’ – AUG GAA UUU – 3’, manakah asam amino yang benar?',
    opsi: [
      'AUG → Metionin',
      'GAA → Glutamat',
      'UUU → Fenilalanin',
      'UUU → Alanin'
    ],
    kunci: [0,1,2],
    bahas: `
      ✅ AUG = Metionin (Start).  
      ✅ GAA = Glutamat.  
      ✅ UUU = Fenilalanin.  
      ❌ UUU bukan Alanin.`
  },
  {
    id: 'sp17',
    tipe: 'cb',
    tanya: 'Manakah urutan antikodon yang benar dari mRNA 5’ – AUG GAA UUU – 3’?',
    opsi: [
      'UAC – CUU – AAA',
      'UAC – GAA – UUU',
      'AUG – CUU – UUU',
      'UAC – CUU – UUC'
    ],
    kunci: [0],
    bahas: `
      <p><b>Penjelasan:</b> Antikodon adalah komplemen kodon:  
      AUG → UAC, GAA → CUU, UUU → AAA.</p>
    `
  },

  // ===== Soal BS =====
  {
    id: 'sp18',
    tipe: 'bs',
    tanya: 'Tentukan benar (✔️) atau salah (❌) dari pernyataan berikut:',
    opsi: [
      'DNA sense 5’ – ATG GAA TTT – 3’ menghasilkan mRNA 5’ – AUG GAA UUU – 3’.',
      'Kodon AUG selalu menyandi asam amino Glisin.',
      'Antikodon CUU berpasangan dengan kodon GAA.',
      'Asam amino yang dihasilkan: Metionin – Glutamat – Fenilalanin.'
    ],
    kunci: [true, false, true, true],
    bahas: `
      ✅ ATG → AUG.  
      ❌ AUG menyandi Metionin, bukan Glisin.  
      ✅ GAA berpasangan dengan CUU.  
      ✅ Asam amino: Met – Glu – Phe.`
  },
  {
    id: 'sp19',
    tipe: 'bs',
    tanya: 'Benar (✔️) atau salah (❌) mengenai kode genetik:',
    opsi: [
      'Satu kodon dapat menyandi lebih dari satu asam amino.',
      'Kode genetik bersifat universal.',
      'Kodon stop tidak menyandi asam amino apapun.',
      'Kodon start adalah AUG.'
    ],
    kunci: [false, true, true, true],
    bahas: `
      ❌ Satu kodon hanya untuk satu asam amino.  
      ✅ Kode genetik bersifat universal.  
      ✅ Stop codon (UAA, UAG, UGA) tidak menyandi asam amino.  
      ✅ Start codon adalah AUG (Metionin).`
  },

  // ===== Tambahan Soal PG & CB =====
  {
    id: 'sp20',
    tipe: 'pg',
    tanya: 'Jika mRNA adalah 5’ – AUG UUU GGC UAA – 3’, maka asam amino yang terbentuk adalah ...',
    opsi: [
      'Metionin – Fenilalanin – Glisin',
      'Metionin – Glutamat – Alanin',
      'Fenilalanin – Glisin – Stop',
      'Metionin – Alanin – Stop'
    ],
    kunci: 0,
    bahas: `
      AUG = Metionin,  
      UUU = Fenilalanin,  
      GGC = Glisin,  
      UAA = Stop.`
  },
  {
    id: 'sp21',
    tipe: 'cb',
    tanya: 'Dari rantai DNA sense 5’ – ATG TTT GGC TAA – 3’, pilihlah hasil yang benar:',
    opsi: [
      'mRNA = 5’ – AUG UUU GGC UAA – 3’',
      'Kodon = AUG – UUU – GGC – UAA',
      'Antikodon = UAC – AAA – CCG – AUU',
      'Asam amino = Met – Phe – Gly – Stop'
    ],
    kunci: [0,1,2,3],
    bahas: `
      ✅ DNA sense ditranskripsi jadi AUG UUU GGC UAA.  
      ✅ Kodon dibaca per 3 basa.  
      ✅Antikodon : UAC – AAA – CCG – AUU.  
      ✅ Asam amino: Met – Phe – Gly – Stop.`
  },
  {
    id: 'sp22',
    tipe: 'bs',
    tanya: 'Benar (✔️) atau salah (❌) mengenai sintesis protein berikut:',
    opsi: [
      'Transkripsi DNA → mRNA terjadi di inti sel.',
      'Translasi mRNA → protein terjadi di ribosom.',
      'Antikodon terdapat pada mRNA.',
      'Ikatan peptida terbentuk antar asam amino.'
    ],
    kunci: [true, true, false, true],
    bahas: `
      ✅ Transkripsi di inti.  
      ✅ Translasi di ribosom.  
      ❌ Antikodon ada pada tRNA, bukan mRNA.  
      ✅ Ikatan peptida menyatukan asam amino.`
  },
{
    id: 'sp23',
    tipe: 'pg',
    tanya: 'Jika DNA sense adalah 5’ – TAC GCT TTT – 3’, maka urutan mRNA hasil transkripsi adalah ...',
    opsi: [
      '5’ – AUG CGA AAA – 3’',
      '5’ – UAC GCU UUU – 3’',
      '5’ – ATG GCT TTT – 3’',
      '5’ – AUG GCU AAA – 3’'
    ],
    kunci: 0,
    bahas: `DNA sense TAC GCT TTT → mRNA AUG CGA AAA (T diganti U).`
  },
  {
    id: 'sp24',
    tipe: 'pg',
    tanya: 'Kodon UUU pada mRNA akan menyandi asam amino ...',
    opsi: [
      'Glutamat',
      'Fenilalanin',
      'Metionin',
      'Alanina'
    ],
    kunci: 1,
    bahas: `UUU = Fenilalanin.`
  },
  {
    id: 'sp25',
    tipe: 'pg',
    tanya: 'Jika kodon mRNA adalah GCU, maka antikodon tRNA yang tepat adalah ...',
    opsi: [
      'CGA',
      'UGC',
      'GCU',
      'CGA atau UGC'
    ],
    kunci: 0,
    bahas: `GCU (mRNA) → CGA (antikodon tRNA).`
  },

  // ===== Soal CB =====
  {
    id: 'sp26',
    tipe: 'cb',
    tanya: 'Dari mRNA 5’ – AUG UGC UAA – 3’, pilih pernyataan benar:',
    opsi: [
      'AUG = Start codon',
      'UGC = Sistein',
      'UAA = Stop codon',
      'UGC = Glisin'
    ],
    kunci: [0,1,2],
    bahas: `✅ AUG start codon, ✅ UGC = Sistein, ✅ UAA stop codon, ❌ bukan Glisin.`
  },
  {
    id: 'sp27',
    tipe: 'cb',
    tanya: 'Manakah yang benar tentang DNA sense 5’ – ATG CCT TAA – 3’?',
    opsi: [
      'mRNA = 5’ – AUG CCU UAA – 3’',
      'Asam amino = Met – Pro – Stop',
      'Antikodon = UAC – GGA – AUU',
      'Kodon stop = UAA'
    ],
    kunci: [0,1,3],
    bahas: `✅ mRNA benar, ✅ Met-Pro-Stop, ✅ antikodon benar UAC – GGA – AUU, ✅ UAA stop.`
  },

  // ===== Soal BS =====
  {
    id: 'sp28',
    tipe: 'bs',
    tanya: 'Tentukan benar (✔️) atau salah (❌):',
    opsi: [
      'Antikodon terdapat pada tRNA.',
      'Start codon selalu UAA.',
      'Kodon UGG menyandi Triptofan.',
      'Transkripsi terjadi di sitoplasma.'
    ],
    kunci: [true, false, true, false],
    bahas: `✅ Antikodon ada di tRNA. ❌ Start codon = AUG. ✅ UGG = Triptofan. ❌ Transkripsi di inti.`
  },
  {
    id: 'sp29',
    tipe: 'bs',
    tanya: 'Benar (✔️) atau salah (❌) mengenai kode genetik:',
    opsi: [
      'Kodon bersifat triplet (3 basa).',
      'Kode genetik bersifat degeneratif (satu asam amino bisa lebih dari satu kodon).',
      'Kodon UAA, UAG, dan UGA adalah kodon stop.',
      'Metionin dapat disandi oleh lebih dari satu kodon.'
    ],
    kunci: [true, true, true, false],
    bahas: `✅ Triplet, ✅ Degeneratif, ✅ Stop codon: UAA, UAG, UGA. ❌ Metionin hanya AUG.`
  },

  // ===== Tambahan HOTS sederhana =====
  {
    id: 'sp30',
    tipe: 'pg',
    tanya: 'Jika terjadi mutasi pada mRNA dari 5’ – AUG UUU GGA – 3’ menjadi 5’ – AUG UUC GGA – 3’, maka akibatnya adalah ...',
    opsi: [
      'Asam amino berubah dari Fenilalanin → Leusin',
      'Tidak ada perubahan asam amino',
      'Asam amino Fenilalanin tetap terbentuk',
      'Stop codon terbentuk'
    ],
    kunci: 1,
    bahas: `UUU dan UUC sama-sama menyandi Fenilalanin, jadi tidak ada perubahan (mutasi sinonim).`
  },
  {
    id: 'sp31',
    tipe: 'cb',
    tanya: 'Dari mRNA 5’ – AUG GCU UGG UAA – 3’, manakah pernyataan benar?',
    opsi: [
      'Asam amino: Met – Ala – Trp – Stop',
      'Antikodon: UAC – CGA – ACC – AUU',
      'UGG = Triptofan',
      'UAA = Stop codon'
    ],
    kunci: [0,1,2,3],
    bahas: `✅ Urutan asam amino Met-Ala-Trp-Stop, ✅ UGG Triptofan, ✅ UAA stop. ✅ Antikodon salah (yang benar: UAC – CGA – ACC – AUU).`
  },
  {
    id: 'sp32',
    tipe: 'bs',
    tanya: 'Tentukan benar (✔️) atau salah (❌):',
    opsi: [
      'Mutasi nonsense menghasilkan kodon stop prematur.',
      'Mutasi missense mengubah satu asam amino.',
      'Mutasi sinonim mengubah urutan basa tapi tidak mengubah asam amino.',
      'Mutasi frameshift terjadi jika ada substitusi satu basa.'
    ],
    kunci: [true, true, true, false],
    bahas: `✅ Nonsense = kodon stop, ✅ Missense = ubah asam amino, ✅ Sinonim = tidak ubah asam amino, ❌ Frameshift karena insersi/delesi, bukan substitusi.`
  },
{
    id: 'sp33',
    tipe: 'pg',
    tanya: 'Mutasi yang menghasilkan kodon stop prematur disebut ...',
    opsi: [
      'Silent mutation',
      'Missense mutation',
      'Nonsense mutation',
      'Frameshift mutation'
    ],
    kunci: 2,
    bahas: `Nonsense mutation = terbentuk kodon stop prematur → protein terpotong.`
  },
  {
    id: 'sp34',
    tipe: 'pg',
    tanya: 'Jika mRNA normal adalah 5’ – AUG UUU GAA UGA – 3’, lalu berubah menjadi 5’ – AUG UUA GAA UGA – 3’, maka mutasi yang terjadi adalah ...',
    opsi: [
      'Silent',
      'Missense',
      'Nonsense',
      'Frameshift'
    ],
    kunci: 1,
    bahas: `UUU (Fenilalanin) → UUA (Leusin), artinya terjadi perubahan satu asam amino = missense mutation.`
  },
  {
    id: 'sp35',
    tipe: 'pg',
    tanya: 'Mutasi akibat hilangnya satu basa nitrogen pada DNA disebut ...',
    opsi: [
      'Silent mutation',
      'Frameshift mutation',
      'Missense mutation',
      'Nonsense mutation'
    ],
    kunci: 1,
    bahas: `Hilang/tambah basa menyebabkan pergeseran rangka baca (frameshift mutation).`
  },

  // ===== Soal CB =====
  {
    id: 'sp36',
    tipe: 'cb',
    tanya: 'Pilih yang benar tentang silent mutation:',
    opsi: [
      'Tidak mengubah asam amino yang terbentuk',
      'Terjadi karena kode genetik bersifat degeneratif',
      'Selalu menghasilkan protein tidak normal',
      'Contoh: UUU → UUC tetap menghasilkan Fenilalanin'
    ],
    kunci: [0,1,3],
    bahas: `✅ Tidak mengubah asam amino, ✅ degeneratif, ✅ contoh UUU → UUC = Fenilalanin, ❌ tidak selalu menghasilkan protein abnormal.`
  },
  {
    id: 'sp37',
    tipe: 'cb',
    tanya: 'Manakah yang termasuk mutasi frameshift?',
    opsi: [
      'Insersi satu basa',
      'Delesi satu basa',
      'Substitusi satu basa',
      'Duplikasi basa'
    ],
    kunci: [0,1],
    bahas: `✅ Insersi/delesi satu basa = frameshift. ❌ Substitusi = missense/nonsense/silent, ❌ Duplikasi bukan frameshift.`
  },

  // ===== Soal BS =====
  {
    id: 'sp38',
    tipe: 'bs',
    tanya: 'Tentukan benar (✔️) atau salah (❌):',
    opsi: [
      'Missense mutation mengubah satu asam amino.',
      'Nonsense mutation menghasilkan protein lebih panjang.',
      'Frameshift mutation menggeser urutan kodon setelah titik mutasi.',
      'Silent mutation dapat terjadi tanpa memengaruhi fenotipe.'
    ],
    kunci: [true, false, true, true],
    bahas: `✅ Missense = ubah 1 asam amino, ❌ Nonsense = protein lebih pendek, ✅ Frameshift geser kodon, ✅ Silent tidak selalu pengaruh fenotipe.`
  },
  {
    id: 'sp39',
    tipe: 'bs',
    tanya: 'Benar (✔️) atau salah (❌) tentang mutasi genetik:',
    opsi: [
      'Frameshift mutation lebih berbahaya dibanding silent mutation.',
      'Substitusi basa selalu menghasilkan nonsense mutation.',
      'Mutasi sinonim tidak mengubah urutan asam amino.',
      'Mutasi dapat terjadi secara spontan maupun akibat mutagen.'
    ],
    kunci: [true, false, true, true],
    bahas: `✅ Frameshift lebih berbahaya, ❌ Substitusi bisa silent/missense juga, ✅ Sinonim = tidak ubah asam amino, ✅ Mutasi bisa spontan/induksi.`
  },

  // ===== Tambahan HOTS =====
  {
    id: 'sp40',
    tipe: 'pg',
    tanya: 'Pada mRNA 5’ – AUG GAA UUU UGC UAA – 3’, terjadi delesi pada basa ke-5. Apa akibatnya?',
    opsi: [
      'Terjadi silent mutation',
      'Protein tetap normal',
      'Terjadi frameshift mutation',
      'Terjadi nonsense mutation langsung'
    ],
    kunci: 2,
    bahas: `Hilangnya satu basa → reading frame bergeser → frameshift mutation → seluruh urutan asam amino berubah.`
  },
  {
    id: 'sp41',
    tipe: 'cb',
    tanya: 'Contoh berikut merupakan missense mutation, kecuali ...',
    opsi: [
      'GAG (Glu) → GUG (Val) → Sickle cell anemia',
      'AUG (Met) → UAG (Stop)',
      'UCU (Ser) → CCU (Pro)',
      'UUU (Phe) → UUA (Leu)'
    ],
    kunci: [1],
    bahas: `✅ AUG → UAG menghasilkan stop prematur = nonsense mutation, bukan missense.`
  },
  {
    id: 'sp42',
    tipe: 'bs',
    tanya: 'Benar (✔️) atau salah (❌) mengenai hubungan mutasi dengan penyakit:',
    opsi: [
      'Sickle cell anemia terjadi karena missense mutation.',
      'Kanker dapat dipicu oleh mutasi gen pengatur siklus sel.',
      'Nonsense mutation tidak pernah berbahaya.',
      'Cystic fibrosis dapat disebabkan oleh delesi tiga basa (frameshift).'
    ],
    kunci: [true, true, false, false],
    bahas: `✅ Sickle cell = missense (Glu → Val). ✅ Kanker = mutasi gen regulator. ❌ Nonsense bisa berbahaya. ❌ Cystic fibrosis klasik karena delesi 3 basa (ΔF508), tapi tidak frameshift.`
  },
// ====== Soal Sintesis Protein ======
{
  id: 'sp43',
  tipe: 'pg',
  tanya: 'Proses transkripsi berlangsung di bagian sel berikut, kecuali ...',
  opsi: ['Nukleus (inti sel)', 'Sitosol (sitoplasma)', 'Nukleoid (prokariot)', 'Dalam nukleus sebelum mRNA keluar'],
  kunci: 1,
  bahas: `Transkripsi terjadi di nukleus (eukariot) atau nukleoid (prokariot). Sitosol bukan lokasi transkripsi utama.`
},
{
  id: 'sp44',
  tipe: 'pg',
  tanya: 'DNA untai yang digunakan sebagai cetakan sintesis mRNA adalah ...',
  opsi: ['Sense strand', 'Antisense strand', 'mRNA strand', 'tRNA strand'],
  kunci: 1,
  bahas: `Antisense strand menjadi template. Sense (coding) sama dengan mRNA (T→U).`
},
{
  id: 'sp45',
  tipe: 'pg',
  tanya: 'Kodon start pada mRNA adalah ...',
  opsi: ['UAA', 'UAG', 'UGA', 'AUG'],
  kunci: 3,
  bahas: `AUG mengkode metionin dan menandai awal translasi.`
},
{
  id: 'sp46',
  tipe: 'pg',
  tanya: 'Antikodon tRNA berikatan dengan kodon mRNA melalui ...',
  opsi: ['Ionic bond', 'Hydrogen bond', 'Peptide bond', 'Phosphodiester bond'],
  kunci: 1,
  bahas: `Pasangan basa tRNA-mRNA diikat oleh ikatan hidrogen.`
},
{
  id: 'sp47',
  tipe: 'cb',
  tanya: 'Pernyataan benar tentang sense dan antisense strand adalah ...',
  opsi: [
    'Sense strand sama dengan mRNA (T→U)',
    'Antisense strand sebagai template',
    'Sense strand ikut ke ribosom',
    'Antisense strand disebut coding strand'
  ],
  kunci: [0,1],
  bahas: `Sense = coding strand; antisense = template.`
},
{
  id: 'sp48',
  tipe: 'bs',
  tanya: 'Benar (✔️) atau salah (❌):',
  opsi: [
    'Aminoacyl-tRNA synthetase menempelkan asam amino ke tRNA.',
    'Semua mutasi titik ubah asam amino.',
    'Translasi di ribosom subunit besar & kecil.',
    'Kodon dibaca triplet, tanpa overlap.'
  ],
  kunci: [true,false,true,true],
  bahas: `Mutasi titik bisa silent, tidak selalu ubah asam amino.`
},
{
  id: 'sp49',
  tipe: 'pg',
  tanya: 'Jika DNA template 3’–TAC GGA TTA–5’, maka mRNA-nya adalah ...',
  opsi: ['5’–AUG CCU AAU–3’','5’–UAC GGA UUA–3’','5’–AUG GGA UUA–3’','5’–CAU CCU UAU–3’'],
  kunci: 0,
  bahas: `Komplemen template menghasilkan mRNA 5’–AUG CCU AAU–3’.`
},
{
  id: 'sp50',
  tipe: 'pg',
  tanya: 'Situs ribosom tempat tRNA baru masuk disebut ...',
  opsi: ['E', 'P', 'A', 'S'],
  kunci: 2,
  bahas: `Situs A (aminoacyl) menerima tRNA baru.`
},
{
  id: 'sp51',
  tipe: 'cb',
  tanya: 'Transkripsi pada eukariot melibatkan ...',
  opsi: [
    'Promoter & faktor transkripsi',
    'mRNA langsung siap tanpa modifikasi',
    'Splicing intron',
    '5\' cap & poly-A tail'
  ],
  kunci: [0,2,3],
  bahas: `mRNA primer perlu splicing & modifikasi.`
},
{
  id: 'sp52',
  tipe: 'bs',
  tanya: 'Benar (✔️) atau salah (❌) tentang kodon dan antikodon:',
  opsi: [
    'Kodon dibaca 5’→3’.',
    'Antikodon ditulis 3’→5’.',
    'Wobble terjadi di basa ke-3 kodon.',
    'Setiap kodon hanya bisa dikenali satu tRNA tanpa pengecualian.'
  ],
  kunci: [true,true,true,false],
  bahas: `Wobble membuat satu tRNA bisa kenali beberapa kodon.`
},
{
  id: 'sp53',
  tipe: 'pg',
  tanya: 'Mutasi yang ubah basa tanpa ubah asam amino disebut ...',
  opsi: ['Missense','Nonsense','Silent','Frameshift'],
  kunci: 2,
  bahas: `Silent mutation karena kode genetik degeneratif.`
},
{
  id: 'sp54',
  tipe: 'pg',
  tanya: 'Kodon mRNA 5’–GAA–3’, anticodon tRNA-nya (3’→5’) adalah ...',
  opsi: ['3’–CUU–5’','3’–UUC–5’','3’–GAA–5’','5’–CUU–3’'],
  kunci: 0,
  bahas: `Komplemen antiparalel = 3’–CUU–5’.`
},
{
  id: 'sp55',
  tipe: 'pg',
  tanya: 'Enzim pembentuk ikatan peptida pada translasi adalah ...',
  opsi: ['Aminoacyl-tRNA synthetase','Peptidyl transferase','RNA polimerase II','Spliceosome'],
  kunci: 1,
  bahas: `Peptidyl transferase (aktivitas rRNA ribosom).`
},
{
  id: 'sp56',
  tipe: 'pg',
  tanya: 'Pernyataan benar tentang coding (sense) strand adalah ...',
  opsi: [
    'Dipakai langsung sebagai template',
    'Urutannya sama dengan mRNA (T→U)',
    'Selalu 3’→5’',
    'Lebih aktif dari antisense'
  ],
  kunci: 1,
  bahas: `Coding strand sama dengan mRNA (T diganti U).`
},
{
  id: 'sp57',
  tipe: 'cb',
  tanya: 'Faktor yang diperlukan dalam inisiasi translasi adalah ...',
  opsi: [
    'Start codon AUG',
    'tRNA inisiator membawa Met',
    'Release factor',
    'Subunit ribosom kecil dan besar'
  ],
  kunci: [0,1,3],
  bahas: `Release factor hanya saat terminasi.`
},
{
  id: 'sp58',
  tipe: 'pg',
  tanya: 'Proses splicing pada eukariot dilakukan oleh ...',
  opsi: ['Spliceosome','Ligase','Topoisomerase','RNA polimerase'],
  kunci: 0,
  bahas: `Spliceosome menghilangkan intron dari pre-mRNA.`
},
{
  id: 'sp59',
  tipe: 'bs',
  tanya: 'Benar (✔️) atau salah (❌):',
  opsi: [
    'Mutasi nonsense menghasilkan kodon stop prematur.',
    'Mutasi missense mengubah satu asam amino.',
    'Mutasi frameshift terjadi akibat insersi/delesi.',
    'Silent mutation selalu memengaruhi fenotipe.'
  ],
  kunci: [true,true,true,false],
  bahas: `Silent mutation biasanya tidak ubah fenotipe.`
},
{
  id: 'sp60',
  tipe: 'pg',
  tanya: 'Pada bakteri, transkripsi dan translasi dapat terjadi secara simultan karena ...',
  opsi: [
    'Tidak ada membran inti',
    'Ribosom lebih cepat dari RNA polimerase',
    'DNA bakteri beruntai tunggal',
    'mRNA bakteri tidak perlu splicing'
  ],
  kunci: 0,
  bahas: `Tanpa inti, ribosom bisa langsung menerjemahkan mRNA yang sedang disintesis.`
},
{
  id: 'sp61',
  tipe: 'cb',
  tanya: 'Yang termasuk kodon stop adalah ...',
  opsi: ['UAA','UAG','UGA','AUG'],
  kunci: [0,1,2],
  bahas: `Tiga kodon stop: UAA, UAG, UGA. AUG = start.`
},
{
  id: 'sp62',
  tipe: 'pg',
  tanya: 'Proses pembentukan mRNA dari DNA oleh RNA polimerase disebut ...',
  opsi: ['Transkripsi','Translasi','Replikasi','Mutasi'],
  kunci: 0,
  bahas: `RNA polimerase menyalin DNA menjadi mRNA = transkripsi.`
},

    ]
  },

  }

},

  };

  // ======= Helpers =======
  const $ = (sel, par=document) => par.querySelector(sel);
  const $$ = (sel, par=document) => Array.from(par.querySelectorAll(sel));
  function setTab(name){
    $$('.tab-pane').forEach(p => p.classList.add('hidden'));
    $('#tab-'+name).classList.remove('hidden');
    $$('.tab-btn').forEach(b=>{
      const active = b.dataset.tab===name;
      b.classList.toggle('bg-emerald-600', active);
      b.classList.toggle('text-white', active);
      b.classList.toggle('border', !active);
      b.classList.toggle('chip', !active);
      b.classList.toggle('bg-white', !active);
      b.classList.toggle('text-gray-700', !active);
    })
  }

  function populateSelect(sel, list){
    sel.innerHTML = '';
    list.forEach(v=>{
      const opt=document.createElement('option');
      opt.value=v; opt.textContent=v; sel.appendChild(opt);
    })
  }

  function renderMateri(mapel, bab){
    const item = DB[mapel]?.bab?.[bab];
    if(!item){
      $('#materiKonten').innerHTML = '<p class="text-gray-500">Materi belum tersedia.</p>';
      $('#materiVideo').innerHTML = '<span class="text-sm">Video belum tersedia.</span>';
      return;
    }
    $('#materiKonten').innerHTML = item.materi;
    if(item.video){
      $('#materiVideo').innerHTML = `<iframe class="w-full h-full" src="https://www.youtube.com/embed/${item.video}" title="Video pembelajaran" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`
    } else {
      $('#materiVideo').innerHTML = '<span class="text-sm">Video belum tersedia.</span>';
    }
if(window.MathJax){
    MathJax.typesetPromise([$('#materiKonten')]);
  }
  }

  function buildSoalCard(q, idx, prefix){
  const wrap = document.createElement('div');
  wrap.className = 'p-4 rounded-xl border chip';
  wrap.dataset.id = q.id;

  const head = document.createElement('div');
  head.className = 'flex items-start justify-between gap-3';
  head.innerHTML = `<div class="font-semibold">${idx+1}. ${q.tanya.replace(/\n/g,'<br>')}</div>`;
  wrap.appendChild(head);

  const body = document.createElement('div');
  body.className = 'mt-3 space-y-2';
if(q.gambar){
  const img = document.createElement('img');
  img.src = q.gambar;
  img.alt = 'Gambar soal';
  img.className = 'my-3 w-full max-w-md rounded-lg border';
  body.appendChild(img);
}
if(q.audio){
  const aud = document.createElement('audio');
  aud.controls = true;
  aud.src = q.audio;
  aud.className = 'my-3 w-full';
  body.appendChild(aud);
}
if(q.bacaan){
  const teks = document.createElement('div');
  teks.className = 'mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm whitespace-pre-line text-justify';
  teks.innerText = q.bacaan;
  body.appendChild(teks);
}
  // ====== PILIHAN GANDA ======
  if(q.tipe === 'pg'){
    q.opsi.forEach((o,i)=>{
      const row = document.createElement('label');
      row.className = 'flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 border border-transparent';
      row.innerHTML = `<input type="radio" name="${prefix}-${q.id}" value="${i}" class="accent-emerald-600"> <span>${String.fromCharCode(65+i)}. ${o}</span>`;
      body.appendChild(row);
    });
  }

  // ====== CHECKBOX ======
  if(q.tipe === 'cb'){
    q.opsi.forEach((o,i)=>{
      const row = document.createElement('label');
      row.className = 'flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 border border-transparent';
      row.innerHTML = `<input type="checkbox" name="${prefix}-${q.id}" value="${i}" class="accent-emerald-600"> <span>${String.fromCharCode(65+i)}. ${o}</span>`;
      body.appendChild(row);
    });
  }
  // ====== CONSERVATION & RELAXATION ======
  if(q.tipe === 'cr'){
    const table = document.createElement('table');
    table.className = 'w-full border border-gray-200 rounded-lg';

    // Header tabel
    const thead = document.createElement('thead');
    thead.innerHTML = `
      <tr class="bg-gray-100 text-center">
        <th class="p-2 border">places</th>
        <th class="p-2 border w-28">Conservation</th>
        <th class="p-2 border w-28">Relaxation</th>
      </tr>`;
    table.appendChild(thead);

    // Body tabel
    const tbody = document.createElement('tbody');
    q.opsi.forEach((o,i)=>{
      const idCon = `${prefix}-${q.id}-cr-${i}-con`;
      const idRel = `${prefix}-${q.id}-cr-${i}-rel`;

      const row = document.createElement('tr');
      row.className = 'border-t';
      row.innerHTML = `
        <td class="p-2 border">${o}</td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idCon}" name="${prefix}-${q.id}-cr-${i}" value="conservation" class="accent-emerald-600">
        </td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idRel}" name="${prefix}-${q.id}-cr-${i}" value="relaxation" class="accent-rose-600">
        </td>`;
      tbody.appendChild(row);
    });

    table.appendChild(tbody);
    body.appendChild(table);
  }

  // ====== BENAR / SALAH ======
  if(q.tipe === 'bs'){
    const table = document.createElement('table');
    table.className = 'w-full border border-gray-200 rounded-lg';

    const thead = document.createElement('thead');
    thead.innerHTML = `
      <tr class="bg-gray-100 text-center">
        <th class="p-2 border">Pernyataan</th>
        <th class="p-2 border w-20">Benar</th>
        <th class="p-2 border w-20">Salah</th>
      </tr>`;
    table.appendChild(thead);

    const tbody = document.createElement('tbody');
    q.opsi.forEach((o,i)=>{
      const idBenar = `${prefix}-${q.id}-bs-${i}-benar`;
      const idSalah = `${prefix}-${q.id}-bs-${i}-salah`;

      const row = document.createElement('tr');
      row.className = 'border-t';
      row.innerHTML = `
        <td class="p-2 border">${o}</td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idBenar}" name="${prefix}-${q.id}-bs-${i}" value="true" class="accent-emerald-600">
        </td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idSalah}" name="${prefix}-${q.id}-bs-${i}" value="false" class="accent-rose-600">
        </td>`;
      tbody.appendChild(row);
    });

    table.appendChild(tbody);
    body.appendChild(table);
  }

  // ====== ISIAN ======
  if(q.tipe === 'isian'){
    const inp = document.createElement('input');
    inp.type = 'text';
    inp.placeholder = 'Ketik jawaban singkat…';
    inp.className = 'w-full px-3 py-2 rounded-lg border chip focus:outline-none focus:ring-2 focus:ring-emerald-300';
    inp.name = `${prefix}-${q.id}-isian`;
    body.appendChild(inp);
  }

  // ====== AKSI ======
  const actions = document.createElement('div');
  actions.className = 'mt-3 flex flex-wrap items-center gap-2';

  const btnCek = document.createElement('button');
  btnCek.className = 'btn px-3 py-2 rounded-lg bg-emerald-600 text-white text-sm';
  btnCek.textContent = 'Cek Jawaban';

  const btnBahas = document.createElement('button');
  btnBahas.className = 'btn px-3 py-2 rounded-lg border chip text-sm';
  btnBahas.textContent = 'Pembahasan';

  const status = document.createElement('span');
  status.className = 'ml-auto text-sm';

  const bahas = document.createElement('div');
  bahas.className = 'mt-3 hidden p-3 rounded-lg bg-emerald-50 border border-emerald-100 text-sm';
  bahas.textContent = q.bahas || 'Belum ada pembahasan.';

  // ====== EVENT CEK JAWABAN ======
  btnCek.addEventListener('click',()=>{
    let benar = false;

    if(q.tipe === 'pg'){
      const v = (document.querySelector(`input[name='${prefix}-${q.id}']:checked`)||{}).value;
      benar = Number(v) === Number(q.kunci);
    }
    else if(q.tipe === 'cb'){
      const checked = [...document.querySelectorAll(`input[name='${prefix}-${q.id}']:checked`)].map(el=>Number(el.value));
      const kunci = Array.isArray(q.kunci) ? q.kunci.slice().sort() : [q.kunci];
      benar = checked.slice().sort().toString() === kunci.toString();
    }
    else if(q.tipe === 'bs'){
      const jawabanUser = q.opsi.map((o,i)=>{
        const el = document.querySelector(`input[name='${prefix}-${q.id}-bs-${i}']:checked`);
        return el ? el.value === 'true' : null;
      });

      if(jawabanUser.includes(null)){
        alert('Pilih jawaban untuk semua pernyataan!');
        return;
      }
      benar = jawabanUser.every((val,i)=> val === q.kunci[i]);
    }
    else if(q.tipe === 'cr'){
      const jawabanUser = q.opsi.map((o,i)=>{
        const el = document.querySelector(`input[name='${prefix}-${q.id}-cr-${i}']:checked`);
        return el ? el.value : null;
      });

      if(jawabanUser.includes(null)){
        alert('Pilih jawaban Conservation / Relaxation untuk semua pernyataan!');
        return;
      }
      benar = jawabanUser.every((val,i)=> val === q.kunci[i]);
    }
    else {
      const v = (document.querySelector(`input[name='${prefix}-${q.id}-isian']`)||{}).value||'';
      benar = v.trim().toLowerCase() === String(q.kunciText||'').trim().toLowerCase();
    }

    status.textContent = benar ? '✅ Benar' : '❌ Salah';
    status.classList.toggle('text-emerald-600', benar);
    status.classList.toggle('text-rose-600', !benar);
  });

  btnBahas.addEventListener('click',()=> bahas.classList.toggle('hidden'));

  actions.append(btnCek, btnBahas, status);
  wrap.append(body, actions, bahas);
  return wrap;
}

  function loadLatihan(mapel,bab){
    const item = DB[mapel]?.bab?.[bab];
    const box = $('#latihanContainer');
    box.innerHTML='';
    if(!item){ 
        box.innerHTML = '<p class="text-gray-500">Soal belum tersedia.</p>'; 
        return; 
    }
    item.soal.forEach((q,i)=> box.appendChild(buildSoalCard(q,i,'lat')) );

    // Tambahkan ini agar MathJax render ulang rumus pada soal latihan
    if(window.MathJax){
        MathJax.typesetPromise([box]);
    }
}


  // ======= SIMULASI =======
  let simState = {timer:null, endAt: null, daftar: [], mapel:'', durasi: 0};

  function startSimulasi(mapel, jumlah, durasiMenit){
    const pools = Object.values(DB[mapel]?.bab || {}).flatMap(x=>x.soal||[]);
    if(pools.length===0){
      $('#simContainer').innerHTML = '<p class="text-gray-500">Bank soal untuk mapel ini belum tersedia.</p>';
      return;
    }
    const shuffled=[...pools].sort(()=>Math.random()-0.5).slice(0, Math.min(jumlah,pools.length));
    simState = {timer:null, endAt: Date.now()+durasiMenit*60*1000, daftar: shuffled, mapel, durasi:durasiMenit};
    renderSimulasi();
    runTimer();
  }

  function renderSimulasi(){
    const box = $('#simContainer');
    box.innerHTML='';
    simState.daftar.forEach((q,i)=> box.appendChild(buildSoalCard(q,i,'sim')) );
    $('#simHasil').classList.add('hidden');

    // Tambahkan ini agar MathJax render ulang rumus pada soal simulasi
    if(window.MathJax){
        MathJax.typesetPromise([box]);
    }
}


  function runTimer(){
    clearInterval(simState.timer);
    const info = $('#simInfo');
    const tick = ()=>{
      const remain = Math.max(0, simState.endAt - Date.now());
      const mm = String(Math.floor(remain/60000)).padStart(2,'0');
      const ss = String(Math.floor((remain%60000)/1000)).padStart(2,'0');
      info.textContent = `Mapel: ${simState.mapel} • Sisa waktu ${mm}:${ss}`;
      if(remain===0){
        clearInterval(simState.timer);
        selesaiSimulasi();
      }
    };
    tick();
    simState.timer = setInterval(tick, 250);
  }

  function nilaiPG(q){
    const v = (document.querySelector(`input[name='sim-${q.id}']:checked`)||{}).value;
    return Number(v)===Number(q.kunci);
  }
  function nilaiIsian(q){
    const v = (document.querySelector(`input[name='sim-${q.id}-isian']`)||{}).value||'';
    return v.trim().toLowerCase() === String(q.kunciText||'').trim().toLowerCase();
  }

  function selesaiSimulasi(){
    const total = simState.daftar.length;
    let benar = 0;
    simState.daftar.forEach(q=>{
      benar += (q.tipe==='pg') ? (nilaiPG(q)?1:0) : (nilaiIsian(q)?1:0);
    });
    const skor = Math.round((benar/total)*100);
    const hasil = $('#simHasil');
    hasil.classList.remove('hidden');
    hasil.innerHTML = `<div class="font-semibold">Hasil Simulasi</div>
      <div class="mt-1 text-sm">Benar: <strong>${benar}</strong> dari ${total} soal • Skor: <strong>${skor}</strong></div>
      <button id="btnReview" class="btn mt-3 px-3 py-2 rounded-lg border chip text-sm">Tampilkan Pembahasan</button>`;
    $('#simInfo').textContent = `Selesai • Mapel: ${simState.mapel}`;

    $('#btnReview').addEventListener('click',()=>{
      // Tampilkan semua pembahasan
      $$('#simContainer .p-4').forEach(card=>{
        const pemb = card.querySelector('div.mt-3.hidden');
        if(pemb) pemb.classList.remove('hidden');
      })
    })
  }

  // ======= INIT =======
  function initSelectors(){
    const mapels = Object.keys(DB);
    populateSelect($('#materiMapel'), mapels);
    populateSelect($('#latihMapel'), mapels);
    populateSelect($('#simMapel'), mapels);

    const firstBab = (mapel)=> Object.keys(DB[mapel].bab);

    // Materi default
    const m0 = mapels[0];
    populateSelect($('#materiBab'), firstBab(m0));
    // Latihan default
    populateSelect($('#latihBab'), firstBab(mapels[0]));

    $('#materiMapel').addEventListener('change', e=>{
      populateSelect($('#materiBab'), firstBab(e.target.value));
    });
    $('#latihMapel').addEventListener('change', e=>{
      populateSelect($('#latihBab'), firstBab(e.target.value));
    });

    $('#btnLoadMateri').addEventListener('click',()=>{
      renderMateri($('#materiMapel').value, $('#materiBab').value);
      window.scrollTo({top:0, behavior:'smooth'});
    });

    $('#btnLoadLatihan').addEventListener('click',()=>{
      loadLatihan($('#latihMapel').value, $('#latihBab').value);
    });

    $('#btnPeriksaSemua').addEventListener('click',()=>{
      $$('#latihanContainer .p-4').forEach(card=>{
        const cek = card.querySelector('button');
        cek?.click();
      });
    });

    $('#btnMulaiSim').addEventListener('click',()=>{
      const map = $('#simMapel').value;
      const j = Math.max(5, Math.min(50, Number($('#simJumlah').value||10)));
      const d = Math.max(5, Math.min(180, Number($('#simDurasi').value||15)));
      startSimulasi(map, j, d);
      window.scrollTo({top:0, behavior:'smooth'});
    });

    // Muat awal
    renderMateri($('#materiMapel').value, $('#materiBab').value);
    loadLatihan($('#latihMapel').value, $('#latihBab').value);
  }

  // Tab switching
  $$('.tab-btn').forEach(b=> b.addEventListener('click',()=> setTab(b.dataset.tab)) );

  // Start
  setTab('materi');
  initSelectors();
  </script>
</body>
</html>
